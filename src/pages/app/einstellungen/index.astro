---
import Site from "../../../layouts/Site.astro";
import { APP } from "../../../config/app";
---

<Site title={`Einstellungen • ${APP.name}`} description="App-Einstellungen und Kontoinfo." robots="noindex">
  <section class="card">
    <div class="card__body">
      <h1>Einstellungen</h1>
      <p class="small">Zentraler Bereich für App-Update, Benachrichtigungen und Kontooptionen.</p>
      <p id="settingsMsg" class="small" aria-live="polite"></p>
    </div>
  </section>

  <section class="card">
    <div class="card__body">
      <h2>Benachrichtigungen und Portal</h2>
      <form id="settingsNotifyForm" class="resp-form-grid">
        <label class="resp-full">
          <span>
            <input id="setNotifyPosts" type="checkbox" checked />
            Neue Posts
          </span>
        </label>
        <label class="resp-full">
          <span>
            <input id="setNotifyEvents" type="checkbox" checked />
            Neue Termine
          </span>
        </label>
        <label class="resp-full">
          <span>
            <input id="setNotifyWorkEvents" type="checkbox" checked />
            Neue Arbeitseinsätze
          </span>
        </label>
        <label class="resp-full">
          <span>
            <input id="setNotifyAppUpdate" type="checkbox" checked />
            App-Update verfügbar
          </span>
        </label>
        <label class="resp-full">
          <span>Portal-Seite</span>
          <select id="setHandedness">
            <option value="right">Rechts (Standard)</option>
            <option value="auto">Auto</option>
            <option value="left">Links</option>
          </select>
        </label>
        <div class="resp-full" style="display:flex;justify-content:flex-end;">
          <button type="submit" class="feed-btn">Speichern</button>
        </div>
      </form>
    </div>
  </section>

  <section class="card">
    <div class="card__body">
      <h2>App-Update</h2>
      <p class="small">Version: <strong id="settingsAppVersion">-</strong></p>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <button type="button" id="settingsEnableNotifyBtn" class="feed-btn feed-btn--ghost">Benachrichtigung erlauben</button>
        <button type="button" id="settingsCheckUpdateBtn" class="feed-btn feed-btn--ghost">Auf Update prüfen</button>
        <button type="button" id="settingsReloadBtn" class="feed-btn feed-btn--ghost">Neu laden</button>
      </div>
    </div>
  </section>

  <script src="/js/app-settings.js" defer></script>
</Site>
