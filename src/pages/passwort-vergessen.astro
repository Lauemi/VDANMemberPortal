---
import Site from "../layouts/Site.astro";
import { APP } from "../config/app";

const enablePasswordReset = String(import.meta.env.PUBLIC_ENABLE_PASSWORD_RESET || "").toLowerCase() === "true";
---

<Site title={`Passwort vergessen • ${APP.name}`} description="Passwort-Reset vorbereiten." robots="noindex">
  <section class="card" style="max-width:560px;margin:0 auto;">
    <div class="card__body">
      <h1>Passwort vergessen</h1>
      <p class="small">Reset-Link per E-Mail anfordern.</p>
      <p id="forgotPasswordMsg" class="small" aria-live="polite"></p>

      <form id="forgotPasswordForm" data-enabled={enablePasswordReset ? "1" : "0"}>
        <label>
          <span>Mitgliedsnummer oder E-Mail</span>
          <input id="forgotPasswordIdentifier" type="text" autocomplete="username email" required />
        </label>

        <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
          <button class="primary" type="submit">Reset-Link senden</button>
          <a class="feed-btn feed-btn--ghost" href="/login/">Zurück zum Login</a>
        </div>
      </form>
    </div>
  </section>

  <script src="/js/password-reset.js" defer></script>
</Site>
